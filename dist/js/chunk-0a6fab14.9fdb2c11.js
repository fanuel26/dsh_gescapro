(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a6fab14"],{"63dc":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("a-row",{attrs:{type:"flex",gutter:24}},[s("a-col",{staticClass:"mb-24",attrs:{span:24,md:16}},[s("a-card",{staticClass:"header-solid h-full",attrs:{bordered:!1,bodyStyle:{paddingTop:0,paddingBottom:"16px"}},scopedSlots:e._u([{key:"title",fn:function(){return[s("h6",{staticClass:"font-semibold m-0"},[e._v("Information du administrateur")])]},proxy:!0}])},[s("div",{staticClass:"text-right mb-4"},[s("a-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("Retour")])],1),s("a-row",{attrs:{gutter:[24,24]}},[s("a-col",{attrs:{span:24}},[s("a-card",{staticClass:"card-billing-info",attrs:{bordered:!1}},[s("div",{staticClass:"col-info"},[s("a-descriptions",{attrs:{title:new Date(e.admin.created_at).toLocaleString(),column:2}},[s("a-descriptions-item",{attrs:{label:"Nom"}},[e._v(" "+e._s(e.admin.nom)+" ")]),s("a-descriptions-item",{attrs:{label:"Prenom"}},[e._v(" "+e._s(e.admin.prenom)+" ")]),s("a-descriptions-item",{attrs:{label:"Adresse email"}},[e._v(" "+e._s(e.admin.email)+" ")]),s("a-descriptions-item",{attrs:{label:"Nom d'utilisateur"}},[e._v(" "+e._s(e.admin.username)+" ")]),s("a-descriptions-item",{attrs:{label:"Code secret"}},[e._v(" "+e._s(e.admin.code_secret)+" ")])],1)],1)])],1),s("a-col",{attrs:{span:24}},[s("a-card",{attrs:{bordered:!1},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Definir les rôles")]},proxy:!0}])},[s("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login",form:e.form_role,hideRequiredMark:!0},on:{submit:e.roleSubmit}},[s("a-row",{attrs:{gutter:24}},[s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.carnet},model:{value:e.state.carnet,callback:function(t){e.$set(e.state,"carnet",t)},expression:"state.carnet"}}),s("p",{staticClass:"mx-2"},[e._v("Carnets produit")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.epargne},model:{value:e.state.epargne,callback:function(t){e.$set(e.state,"epargne",t)},expression:"state.epargne"}}),s("p",{staticClass:"mx-2"},[e._v("Compte épargne")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.pret},model:{value:e.state.pret,callback:function(t){e.$set(e.state,"pret",t)},expression:"state.pret"}}),s("p",{staticClass:"mx-2"},[e._v("Prêt")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.produit},model:{value:e.state.produit,callback:function(t){e.$set(e.state,"produit",t)},expression:"state.produit"}}),s("p",{staticClass:"mx-2"},[e._v("Produit")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.client},model:{value:e.state.client,callback:function(t){e.$set(e.state,"client",t)},expression:"state.client"}}),s("p",{staticClass:"mx-2"},[e._v("Client")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.collecteur},model:{value:e.state.collecteur,callback:function(t){e.$set(e.state,"collecteur",t)},expression:"state.collecteur"}}),s("p",{staticClass:"mx-2"},[e._v("Agent collecteur")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.superviseur},model:{value:e.state.superviseur,callback:function(t){e.$set(e.state,"superviseur",t)},expression:"state.superviseur"}}),s("p",{staticClass:"mx-2"},[e._v("Agent superviseur")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.livreur},model:{value:e.state.livreur,callback:function(t){e.$set(e.state,"livreur",t)},expression:"state.livreur"}}),s("p",{staticClass:"mx-2"},[e._v("Agent livreur")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.agence},model:{value:e.state.agence,callback:function(t){e.$set(e.state,"agence",t)},expression:"state.agence"}}),s("p",{staticClass:"mx-2"},[e._v("Agences")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.chef},model:{value:e.state.chef,callback:function(t){e.$set(e.state,"chef",t)},expression:"state.chef"}}),s("p",{staticClass:"mx-2"},[e._v("Chef agence")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.admin},model:{value:e.state.admin,callback:function(t){e.$set(e.state,"admin",t)},expression:"state.admin"}}),s("p",{staticClass:"mx-2"},[e._v("Administration")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.ville},model:{value:e.state.ville,callback:function(t){e.$set(e.state,"ville",t)},expression:"state.ville"}}),s("p",{staticClass:"mx-2"},[e._v("Deploiement ville")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.launship},model:{value:e.state.launship,callback:function(t){e.$set(e.state,"launship",t)},expression:"state.launship"}}),s("p",{staticClass:"mx-2"},[e._v("Launship-Box")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.dashboard},model:{value:e.state.dashboard,callback:function(t){e.$set(e.state,"dashboard",t)},expression:"state.dashboard"}}),s("p",{staticClass:"mx-2"},[e._v("Tableau de bord")])],1)]),s("a-col",{attrs:{span:8}},[s("div",{staticClass:"d-flex"},[s("a-switch",{attrs:{"checked-children":"","un-checked-children":"",checked:e.state.controle},model:{value:e.state.controle,callback:function(t){e.$set(e.state,"controle",t)},expression:"state.controle"}}),s("p",{staticClass:"mx-2"},[e._v("Controle")])],1)])],1),s("a-col",{attrs:{span:24}},[s("div",{staticClass:"mb-4 text-right"},[s("a-button",{staticClass:"login-form-button",attrs:{type:"primary","html-type":"submit"}},[e._v(" Valider ")])],1)])],1)],1)],1)],1),s("a-col",{staticClass:"mb-24",attrs:{span:24,md:24}})],1)],1),s("a-col",{staticClass:"mb-24",attrs:{span:8,md:8}},[s("a-card",{staticClass:"header-solid h-full",attrs:{bordered:!1,bodyStyle:{paddingTop:"16px",paddingBottom:"16px"}}},[[s("h6",{staticClass:"font-semibold m-0"},[e._v("Generer code secret")])],s("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login",form:e.form_code_secret,hideRequiredMark:!0},on:{submit:e.codeSubmit}},[s("a-form-item",{attrs:{label:"Code secret generer",colon:!1}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code_secret_new",{initialValue:e.code_secret,rules:[{required:!0,message:"Code secret generer incorrect!"}]}],expression:"[\n                'code_secret_new',\n                {\n                  initialValue: code_secret,\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Code secret generer incorrect!',\n                    },\n                  ],\n                },\n              ]"}],attrs:{disabled:"",type:"text",placeholder:"Code secret"}})],1),s("a-form-item",{attrs:{label:"Code secret",colon:!1}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code_secret",{rules:[{required:!0,message:"Code secret incorrect!"}]}],expression:"[\n                'code_secret',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Code secret incorrect!',\n                    },\n                  ],\n                },\n              ]"}],attrs:{type:"text",placeholder:"Code secret"}})],1),s("div",{staticClass:"mb-4 text-right"},[s("a-button",{staticClass:"login-form-button",attrs:{type:"primary","html-type":"submit"}},[e._v(" Generer ")])],1)],1),[s("h6",{staticClass:"font-semibold m-0"},[e._v("Generer mot de passe")])],s("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login",form:e.form_password,hideRequiredMark:!0},on:{submit:e.passwordSubmit}},[s("a-form-item",{attrs:{label:"Mot de passe generer",colon:!1}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{initialValue:e.password,rules:[{required:!0,message:"Mot de passe generer incorrect!"}]}],expression:"[\n                'password',\n                {\n                  initialValue: password,\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Mot de passe generer incorrect!',\n                    },\n                  ],\n                },\n              ]"}],attrs:{disabled:"",type:"text",placeholder:"Mot de passe"}})],1),s("a-form-item",{attrs:{label:"Code secret",colon:!1}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code_secret",{rules:[{required:!0,message:"Code secret incorrect!"}]}],expression:"[\n                'code_secret',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Code secret incorrect!',\n                    },\n                  ],\n                },\n              ]"}],attrs:{type:"text",placeholder:"Code secret"}})],1),s("div",{staticClass:"mb-4 text-right"},[s("a-button",{staticClass:"login-form-button",attrs:{type:"primary","html-type":"submit"}},[e._v(" Generer ")])],1)],1),[s("h6",{staticClass:"font-semibold m-0"},[e._v("Deconnectez l'administrateur")])],s("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login",form:e.form_disconnect,hideRequiredMark:!0},on:{submit:e.disconnectSubmit}},[s("a-form-item",{attrs:{label:"Code secret",colon:!1}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code_secret",{rules:[{required:!0,message:"Code secret incorrect!"}]}],expression:"[\n                'code_secret',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Code secret incorrect!',\n                    },\n                  ],\n                },\n              ]"}],attrs:{type:"text",placeholder:"Code secret"}})],1),s("div",{staticClass:"mb-4 text-right"},[s("a-button",{staticClass:"login-form-button",attrs:{type:"danger","html-type":"submit"}},[e._v(" Deconnexion ")])],1)],1)],2)],1)],1)],1)},r=[],o=s("2f78"),i=s("2e33"),c=s("4072"),n=s("94e0"),l=s("7184"),d=s("6faf"),u=s("bf22"),h={components:{CardCredit:o["a"],WidgetSalary:i["a"],CardPaymentMethods:c["a"],CardInvoices:n["a"],CardBillingInfo:l["a"],CardTransactions:d["a"],WidgetCounter:u["a"]},beforeCreate(){this.form_code_secret=this.$form.createForm(this,{name:"normal_login"}),this.form_password=this.$form.createForm(this,{name:"normal_login"}),this.form_role=this.$form.createForm(this,{name:"normal_login"}),this.form_disconnect=this.$form.createForm(this,{name:"normal_login"})},data(){return{callback:"http://dshadmin.gescapro.net/api/auth/admin",token_admin:null,admin:{},state:{},code_secret:null,password:null}},mounted(){this.password="gescapro@"+Math.floor(8999*Math.random()+1e3),this.code_secret=Math.floor(8999*Math.random()+1e3),this.detailadmin()},methods:{showAlert(e,t,s){this.$notification[e]({message:t,description:s})},detailadmin(){let e=localStorage;this.token_admin=e.getItem("token");let t={headers:{Authorization:this.token_admin}};this.$http.post(this.callback+"/liste",{},t).then(e=>{let t=e.body.data;for(let s=0;s<t.length;s++)t[s].id==this.$route.params.id&&(console.log(t[s]),this.admin=t[s],null==t[s].adminAttributes?this.state={carnet:!0,epargne:!0,produit:!0,client:!0,collecteur:!0,superviseur:!0,livreur:!0,agence:!0,chef:!0,admin:!0,ville:!0,launship:!0,pret:!0,dashboard:!0,controle:!0}:this.state=JSON.parse(t[s].adminAttributes),console.log(this.state))},e=>{this.showAlert("error","Erreur",e.body.message)})},codeSubmit(e){e.preventDefault(),this.form_code_secret.validateFields((e,t)=>{if(e)console.log(e);else if(console.log(t),t.code_secret==localStorage.getItem("code_secret")){let e=localStorage;this.token_admin=e.getItem("token");let s={headers:{Authorization:this.token_admin}},a={code_secret:this.admin.code_secret,newcode_secret:t.code_secret_new};this.$http.post(`${this.callback}/gest/admin/change/code-secret/${this.$route.params.id}`,a,s).then(e=>{let s=e.body;console.log(s),1==s.status?(this.showAlert("success","Success","Code secret générer avec success! Code secret: "+t.code_secret_new),this.detailadmin(),this.code_secret=Math.floor(8999*Math.random()+1e3)):this.showAlert("danger","Erreur",s.message)},e=>{this.showAlert("danger","Erreur",e.body.message)})}else this.showAlert("error","Erreur","Code secret incorrect")})},passwordSubmit(e){e.preventDefault(),this.form_password.validateFields((e,t)=>{if(e)console.log("error");else if(console.log(t),t.code_secret==localStorage.getItem("code_secret")){let e=localStorage;this.token_admin=e.getItem("token");let s={headers:{Authorization:this.token_admin}};this.$http.post(`${this.callback}/gest/admin/${this.$route.params.id}/password/change/token`,{},s).then(e=>{let s=e.body.data;console.log(s);let a=s,r={headers:{Authorization:a}},o={newpassword:t.password};this.$http.post(`${this.callback}/gest/admin/${this.$route.params.id}/password/change/operation`,o,r).then(e=>{let s=e.body;console.log(s),1==s.status?(this.showAlert("success","Success","Mot de passe generer avec succes! Mot de passe: "+t.password),this.password="gescapro@"+Math.floor(8999*Math.random()+1e3)):this.showAlert("error","Erreur",s.message)},e=>{this.showAlert("error","Erreur",e.body.message)})},e=>{this.showAlert("error","Erreur",e.body.message)})}else this.showAlert("error","Erreur","Code secret incorrect")})},disconnectSubmit(e){e.preventDefault(),this.form_disconnect.validateFields((e,t)=>{if(!e)if(t.code_secret==localStorage.getItem("code_secret")){let e=localStorage;this.token_admin=e.getItem("token");let t={headers:{Authorization:this.token_admin}};this.$http.post(`${this.callback}/gest/admin/disconnect/${this.$route.params.id}`,{},t).then(e=>{let t=e.body;console.log(t),t&&this.showAlert("success","Success","Agent admin deconneter avec success")},e=>{this.showAlert("error","Erreur",e.body.message)})}else this.showAlert("error","Erreur","Code secret incorrect")})},roleSubmit(e){e.preventDefault(),console.log(this.state);let t=localStorage;this.token_admin=t.getItem("token");let s={headers:{Authorization:this.token_admin}};this.$http.post(`${this.callback}/update-admin/${this.$route.params.id}`,{admin_attributes:""+JSON.stringify(this.state)},s).then(e=>{let t=e.body;t&&(this.showAlert("success","Success","Role definit avec success"),this.detailadmin())},e=>{this.showAlert("error","Erreur",e.body.message)})}}},m=h,p=s("2877"),f=Object(p["a"])(m,a,r,!1,null,null,null);t["default"]=f.exports},"94e0":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-card",{staticClass:"header-solid h-full",attrs:{bordered:!1,bodyStyle:{paddingTop:0,paddingBottom:"16px"}},scopedSlots:e._u([{key:"title",fn:function(){return[s("h6",{staticClass:"font-semibold m-0"},[e._v("Invoices")])]},proxy:!0}])},[s("template",{staticClass:"mb-0",slot:"extra"},[s("a-button",{attrs:{type:"primary"}},[e._v(" VIEW ALL ")])],1),s("a-list",{staticClass:"invoice-list",attrs:{"item-layout":"horizontal",split:!1,"data-source":e.data},scopedSlots:e._u([{key:"renderItem",fn:function(t){return s("a-list-item",{},[s("a-button",{attrs:{slot:"actions",type:"link"},slot:"actions"},[s("svg",{attrs:{width:"15",height:"15",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 17C3 16.4477 3.44772 16 4 16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H4C3.44772 18 3 17.5523 3 17ZM6.29289 9.29289C6.68342 8.90237 7.31658 8.90237 7.70711 9.29289L9 10.5858L9 3C9 2.44772 9.44771 2 10 2C10.5523 2 11 2.44771 11 3L11 10.5858L12.2929 9.29289C12.6834 8.90237 13.3166 8.90237 13.7071 9.29289C14.0976 9.68342 14.0976 10.3166 13.7071 10.7071L10.7071 13.7071C10.5196 13.8946 10.2652 14 10 14C9.73478 14 9.48043 13.8946 9.29289 13.7071L6.29289 10.7071C5.90237 10.3166 5.90237 9.68342 6.29289 9.29289Z",fill:"#111827"}})]),e._v(" PDF ")]),s("a-list-item-meta",{attrs:{title:t.title,description:t.code}}),s("div",{staticClass:"amount"},[e._v("$"+e._s(t.amount))])],1)}}])})],2)},r=[],o={props:{data:{type:Array,default:()=>[]}},data(){return{}}},i=o,c=s("2877"),n=Object(c["a"])(i,a,r,!1,null,null,null);t["a"]=n.exports},bf22:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-card",{staticClass:"widget-1",attrs:{bordered:!1}},[s("a-statistic",{staticClass:"text-success",class:"text-"+e.status,attrs:{title:e.title,value:e.value,prefix:e.prefix,suffix:e.suffix,precision:0,groupSeparator:"."}}),s("div",{staticClass:"icon",domProps:{innerHTML:e._s(e.icon)}})],1)},r=[],o={props:{title:{type:String,default:""},value:{type:Number,default:0},prefix:{type:String,default:""},suffix:{type:String,default:""},icon:{type:String,default:""},status:{type:String,default:"success"}},data(){return{}}},i=o,c=s("2877"),n=Object(c["a"])(i,a,r,!1,null,null,null);t["a"]=n.exports}}]);
//# sourceMappingURL=chunk-0a6fab14.9fdb2c11.js.map